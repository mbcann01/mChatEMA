---
title: "Data Clean"
author: "Brad Cannell"
date: "May 18, 2016"
output: html_document
---

```{r, echo = FALSE}
knitr::opts_chunk$set(collapse = TRUE, comment = "#>")

# Set working directory
knitr::opts_knit$set(root.dir = "/Users/bradcannell/Dropbox/Research/mChat")
```

**Load packages and functions**
```{r message=FALSE}
# Packages
library(readr)
library(dplyr)
library(ggplot2)

# devtools::install_github("mbcann01/dataclean")
library(dataclean) # Use this instead of str() to prevent showing raw data values
```

**Import Data**   
```{r}
ema <- read_csv("data/Cleaned Daily EMA April 2016.csv")

about_data(ema)
names(ema)
```

-------------------------------------------------------------------------------   

&nbsp;  

**Convert categorical variables to class factor**   
```{r}
likert <- c(
  "Strongly disagree",
  "Disagree",
  "Neutral",
  "Agree",
  "Strongly agree"
)

ema <- ema %>%
  dplyr::mutate(
    happy_f = factor(happy, levels = c(0:4), labels = likert),
    frustrated_f = factor(frustrated, levels = c(0:4), labels = likert),
    sad_f = factor(sad, levels = c(0:4), labels = likert),
    worried_f = factor(worried, levels = c(0:4), labels = likert),
    restless_f = factor(restless, levels = c(0:4), labels = likert),
    excited_f = factor(excited, levels = c(0:4), labels = likert),
    calm_f = factor(calm, levels = c(0:4), labels = likert),
    lonely_f = factor(lonely, levels = c(0:4), labels = likert),
    bored_f = factor(bored, levels = c(0:4), labels = likert),
    sluggish_f = factor(sluggish, levels = c(0:4), labels = likert)
  )

about_data(ema)
names(ema)
```

-------------------------------------------------------------------------------

**Save as RData**
```{r}
save(ema, file = "data/ema_april_2016.RData")
```

-------------------------------------------------------------------------------

#### Session Info:
```{r echo=FALSE}
sessionInfo()
```
